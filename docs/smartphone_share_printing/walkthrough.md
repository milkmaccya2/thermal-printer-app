# スマホ共有印刷 実装完了

## 変更内容
スマートフォンの共有メニューから、テキストや画像を直接プリンターアプリに送信できるようにしました。

### 主要な変更点
- **PWAマニフェスト**: `public/manifest.json` を作成し、Web Share Target API を設定しました。
- **設定変更**: `astro.config.mjs` を更新し、外部からのPOSTリクエストを許可するため `checkOrigin: false` を設定しました。
- **共有ページ**: `src/pages/share.astro` を作成し、共有されたデータ（テキスト・画像）を受け取る処理を実装しました。
- **コンポーネント拡張**: `TextPrinter` と `ImagePrinter` を更新し、初期値（共有されたデータ）を受け取って表示できるようにしました。

## 手動検証手順
⚠️ **重要**: `astro.config.mjs` と `public/` フォルダへの変更を反映させるため、**開発サーバーの再起動が必要**です。

1.  **サーバー再起動**: ターミナルで `Ctrl+C` を押してサーバーを停止し、`npm run dev` (または `pnpm dev`) で再起動してください。
2.  **マニフェストの確認**:
    - ブラウザで `http://localhost:4321/manifest.json` にアクセスし、JSONが表示されることを確認してください。
3.  **共有のシミュレーション**:
    - 別のターミナルから以下のコマンドを実行し、テキスト共有をテストします。
      ```bash
      curl -X POST -F "text=こんにちは" -F "url=https://example.com" http://localhost:4321/share
      ```
    - 成功するとHTMLが返され、ブラウザで `/share` を開いたときにテキストが入力された状態になります（実際の共有動作はモバイル端末で行います）。

## モバイル端末での使用方法
1.  モバイル端末と同じネットワークに接続し、モバイル端末のブラウザからPCのIPアドレス（例: `http://192.168.1.10:4321`）にアクセスします。
2.  「ホーム画面に追加」を選択してインストールします。
3.  他のアプリ（ブラウザや写真アプリ）で「共有」ボタンを押し、このアプリを選択します。
4.  画像またはテキストが自動的に入力された状態で印刷画面が開きます。
